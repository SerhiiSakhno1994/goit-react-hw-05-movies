{"version":3,"file":"static/js/649.c8307df9.chunk.js","mappings":"2NACA,EAA4B,+BAA5B,EAA4G,6B,SCG7F,SAASA,EAAT,GAAgC,IAGpBC,EAHWC,EAAQ,EAARA,KAC9BC,EAASD,EAAKE,eAAeC,YASnC,OACE,gBAAIC,UAAWC,EAAf,WACE,gBAAKD,UAAWC,EAAWC,KATNP,EAS4BE,EAR9CF,EAEDA,EAAKQ,SAAS,QAAgBR,EAAKS,UAAU,GAE3C,iCAAN,OAAwCT,GAJtB,IAQ0CU,IAAI,MAC9D,wBAAKT,EAAKU,UACV,uBAAIV,EAAKW,aCjBf,MAA0B,yBAA1B,EAA+D,2BCMhD,SAASC,IACtB,IAAQC,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAA8BE,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KAQA,OANAC,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,IAAoBN,GAASO,MAAK,SAAAC,GAChCJ,EAAWI,EAAKC,cAEjB,CAACT,KAGF,eAAIT,UAAWC,EAAf,SACGW,EAAQO,OAAS,EAChBP,EAAQQ,KAAI,SAAAxB,GAAI,OAAI,SAACF,EAAD,CAAaE,KAAMA,GAAWA,EAAKyB,QAEvD,eAAIrB,UAAWC,EAAf,4B,oICtBFqB,EAAW,+BACXC,EAAU,mCAAhB,SAEeC,IAAAA,OAAAA,EAAAA,MAAAA,KAAAA,WAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,6GAAsCC,EAAtC,+BAA4C,GAAIC,EAAhD,+BAAyD,GAAIC,EAA7D,+BAAmE,GAAnE,SACyBC,MAAMH,EAAKC,EAAQC,GAD5C,YACQE,EADR,QAEkBC,GAFlB,iCAGYD,EAASE,OAHrB,gDAIMC,QAAQC,OAAO,IAAIC,MAAM,cAJ/B,2GAYO,SAASC,EAAoBC,GAClC,OAAOZ,EAAuB,GAAD,OACxBF,EADwB,iCACSC,EADT,iCACyCa,EADzC,gCASxB,SAASC,EAAmB5B,GACjC,OAAOe,EAAuB,GAAD,OACxBF,EADwB,kBACNb,EADM,4BACqBc,EADrB,oBAIxB,SAASR,EAAoBN,GAClC,OAAOe,EAAuB,GAAD,OACxBF,EADwB,kBACNb,EADM,4BACqBc,EADrB,2BAK/B,IAAMe,EAAW,CACfC,iBA3BK,WACL,OAAOf,EAAuB,GAAD,OACxBF,EADwB,qCACaC,KA0B1CY,oBAAAA,EACAK,kBAnBK,SAA2B/B,GAChC,OAAOe,EAAuB,GAAD,OACxBF,EADwB,kBACNb,EADM,oBACac,EADb,qBAmB7Bc,mBAAAA,EACAtB,oBAAAA,GAGF","sources":["webpack://react-homework-template/./src/components/ReviewsCard/ReviewsCard.module.css?e220","components/ReviewsCard/ReviewsCard.jsx","webpack://react-homework-template/./src/components/pages/Reviews/Reviews.module.css?306d","components/pages/Reviews/Reviews.jsx","services/movieApi.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"ReviewsCard_container__6MmFN\",\"wrapper\":\"ReviewsCard_wrapper__HiqJL\",\"picture\":\"ReviewsCard_picture__V-QGl\"};","import PropTypes from 'prop-types';\n\nimport s from './ReviewsCard.module.css';\n\nexport default function ReviewsCard({ item }) {\n  const noLink = item.author_details.avatar_path;\n\n  const handleAvatarLink = link => {\n    if (!link) return '';\n\n    if (link.includes('http')) return link.substring(1);\n\n    return `https://themoviedb.org/t/p/w45${link}`;\n  };\n  return (\n    <li className={s.container}>\n      <img className={s.picture} src={handleAvatarLink(noLink)} alt=\"\" />\n      <h3>{item.author}</h3>\n      <p>{item.content}</p>\n    </li>\n  );\n}\n\nReviewsCard.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Reviews_wrapper__927Er\",\"noReviews\":\"Reviews_noReviews__stnf8\"};","import { useParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\n\nimport { fetchReviewsDetails } from 'services/movieApi';\nimport ReviewsCard from 'components/ReviewsCard/ReviewsCard';\nimport s from './Reviews.module.css';\n\nexport default function Reviews() {\n  const { movieId } = useParams();\n  const [reviews, setReviews] = useState([]);\n\n  useEffect(() => {\n    fetchReviewsDetails(movieId).then(data => {\n      setReviews(data.results);\n    });\n  }, [movieId]);\n\n  return (\n    <ul className={s.wrapper}>\n      {reviews.length > 0 ? (\n        reviews.map(item => <ReviewsCard item={item} key={item.id} />)\n      ) : (\n        <h4 className={s.noReviews}>No reviews</h4>\n      )}\n    </ul>\n  );\n}\n","const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '59364287eb9441f4377a756545696a86';\n\nasync function fetchWithErrorHandling(url = '', config = {}, key = '') {\n  const response = await fetch(url, config, key);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error('Not found'));\n}\n\nexport function fetchMovieTrends() {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/trending/all/day?api_key=${API_KEY}`\n  );\n}\nexport function fetchMovieWithQuery(query) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=1&include_adult=false`\n  );\n}\nexport function fetchMovieDetails(movieId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`\n  );\n}\nexport function fetchActorsDetails(movieId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n}\nexport function fetchReviewsDetails(movieId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n}\n\nconst movieApp = {\n  fetchMovieTrends,\n  fetchMovieWithQuery,\n  fetchMovieDetails,\n  fetchActorsDetails,\n  fetchReviewsDetails,\n};\n\nexport default movieApp;\n"],"names":["ReviewsCard","link","item","noLink","author_details","avatar_path","className","s","src","includes","substring","alt","author","content","Reviews","movieId","useParams","useState","reviews","setReviews","useEffect","fetchReviewsDetails","then","data","results","length","map","id","BASE_URL","API_KEY","fetchWithErrorHandling","url","config","key","fetch","response","ok","json","Promise","reject","Error","fetchMovieWithQuery","query","fetchActorsDetails","movieApp","fetchMovieTrends","fetchMovieDetails"],"sourceRoot":""}