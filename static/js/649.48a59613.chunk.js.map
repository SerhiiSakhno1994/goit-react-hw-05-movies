{"version":3,"file":"static/js/649.48a59613.chunk.js","mappings":"2NACA,EAA4B,+BAA5B,EAA4G,6B,SCG7F,SAASA,EAAT,GAAgC,IAGpBC,EAHWC,EAAQ,EAARA,KAC9BC,EAASD,EAAKE,eAAeC,YASnC,OACE,gBAAIC,UAAWC,EAAf,WACE,gBAAKD,UAAWC,EAAWC,KATNP,EAS4BE,EAR9CF,EAEDA,EAAKQ,SAAS,QAAgBR,EAAKS,UAAU,GAE3C,iCAAN,OAAwCT,GAJtB,IAQ0CU,IAAI,MAC9D,wBAAKT,EAAKU,UACV,uBAAIV,EAAKW,aCjBf,MAA0B,yBAA1B,EAA+D,2BCMhD,SAASC,IACtB,IAAQC,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAA8BE,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KAQA,OANAC,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,IAAoBN,GAASO,MAAK,SAAAC,GAChCJ,EAAWI,EAAKC,cAEjB,CAACT,KAGF,eAAIT,UAAWC,EAAf,SACGW,EAAQO,OAAS,EAChBP,EAAQQ,KAAI,SAAAxB,GAAI,OAAI,SAACF,EAAD,CAAaE,KAAMA,GAAWA,EAAKyB,QAEvD,eAAIrB,UAAWC,EAAf,4B,oICtBFqB,EAAW,+BACXC,EAAU,mCAAhB,SAEeC,IAAAA,OAAAA,EAAAA,MAAAA,KAAAA,WAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,6GAAsCC,EAAtC,+BAA4C,GAAIC,EAAhD,+BAAyD,GAAIC,EAA7D,+BAAmE,GAAnE,SACyBC,MAAMH,EAAKC,EAAQC,GAD5C,YACQE,EADR,QAEkBC,GAFlB,iCAGYD,EAASE,OAHrB,gDAIMC,QAAQC,OAAO,IAAIC,MAAM,cAJ/B,2GAYO,SAASC,EAAoBC,GAClC,OAAOZ,EAAuB,GAAD,OACxBF,EADwB,iCACSC,EADT,iCACyCa,EADzC,gCASxB,SAASC,EAAmB5B,GACjC,OAAOe,EAAuB,GAAD,OACxBF,EADwB,kBACNb,EADM,4BACqBc,EADrB,oBAIxB,SAASR,EAAoBN,GAClC,OAAOe,EAAuB,GAAD,OACxBF,EADwB,kBACNb,EADM,4BACqBc,EADrB,2BAK/B,IAAMe,EAAW,CACfC,iBA3BK,WACL,OAAOf,EAAuB,GAAD,OACxBF,EADwB,qCACaC,KA0B1CY,oBAAAA,EACAK,kBAnBK,SAA2B/B,GAChC,OAAOe,EAAuB,GAAD,OACxBF,EADwB,kBACNb,EADM,oBACac,EADb,qBAmB7Bc,mBAAAA,EACAtB,oBAAAA,GAGF","sources":["webpack://react-homework-template/./src/components/ReviewsCard/ReviewsCard.module.css?e220","components/ReviewsCard/ReviewsCard.jsx","webpack://react-homework-template/./src/components/pages/Reviews/Reviews.module.css?306d","components/pages/Reviews/Reviews.jsx","services/movieApi.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"ReviewsCard_container__jUBZ8\",\"wrapper\":\"ReviewsCard_wrapper__5PevG\",\"picture\":\"ReviewsCard_picture__YOVWK\"};","import PropTypes from 'prop-types';\r\n\r\nimport s from './ReviewsCard.module.css';\r\n\r\nexport default function ReviewsCard({ item }) {\r\n  const noLink = item.author_details.avatar_path;\r\n\r\n  const handleAvatarLink = link => {\r\n    if (!link) return '';\r\n\r\n    if (link.includes('http')) return link.substring(1);\r\n\r\n    return `https://themoviedb.org/t/p/w45${link}`;\r\n  };\r\n  return (\r\n    <li className={s.container}>\r\n      <img className={s.picture} src={handleAvatarLink(noLink)} alt=\"\" />\r\n      <h3>{item.author}</h3>\r\n      <p>{item.content}</p>\r\n    </li>\r\n  );\r\n}\r\n\r\nReviewsCard.propTypes = {\r\n  item: PropTypes.object.isRequired,\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Reviews_wrapper__bGnla\",\"noReviews\":\"Reviews_noReviews__JihE5\"};","import { useParams } from 'react-router-dom';\r\nimport { useState, useEffect } from 'react';\r\n\r\nimport { fetchReviewsDetails } from 'services/movieApi';\r\nimport ReviewsCard from 'components/ReviewsCard/ReviewsCard';\r\nimport s from './Reviews.module.css';\r\n\r\nexport default function Reviews() {\r\n  const { movieId } = useParams();\r\n  const [reviews, setReviews] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchReviewsDetails(movieId).then(data => {\r\n      setReviews(data.results);\r\n    });\r\n  }, [movieId]);\r\n\r\n  return (\r\n    <ul className={s.wrapper}>\r\n      {reviews.length > 0 ? (\r\n        reviews.map(item => <ReviewsCard item={item} key={item.id} />)\r\n      ) : (\r\n        <h4 className={s.noReviews}>No reviews</h4>\r\n      )}\r\n    </ul>\r\n  );\r\n}\r\n","const BASE_URL = 'https://api.themoviedb.org/3';\r\nconst API_KEY = '59364287eb9441f4377a756545696a86';\r\n\r\nasync function fetchWithErrorHandling(url = '', config = {}, key = '') {\r\n  const response = await fetch(url, config, key);\r\n  return response.ok\r\n    ? await response.json()\r\n    : Promise.reject(new Error('Not found'));\r\n}\r\n\r\nexport function fetchMovieTrends() {\r\n  return fetchWithErrorHandling(\r\n    `${BASE_URL}/trending/all/day?api_key=${API_KEY}`\r\n  );\r\n}\r\nexport function fetchMovieWithQuery(query) {\r\n  return fetchWithErrorHandling(\r\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=1&include_adult=false`\r\n  );\r\n}\r\nexport function fetchMovieDetails(movieId) {\r\n  return fetchWithErrorHandling(\r\n    `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`\r\n  );\r\n}\r\nexport function fetchActorsDetails(movieId) {\r\n  return fetchWithErrorHandling(\r\n    `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\r\n  );\r\n}\r\nexport function fetchReviewsDetails(movieId) {\r\n  return fetchWithErrorHandling(\r\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\r\n  );\r\n}\r\n\r\nconst movieApp = {\r\n  fetchMovieTrends,\r\n  fetchMovieWithQuery,\r\n  fetchMovieDetails,\r\n  fetchActorsDetails,\r\n  fetchReviewsDetails,\r\n};\r\n\r\nexport default movieApp;\r\n"],"names":["ReviewsCard","link","item","noLink","author_details","avatar_path","className","s","src","includes","substring","alt","author","content","Reviews","movieId","useParams","useState","reviews","setReviews","useEffect","fetchReviewsDetails","then","data","results","length","map","id","BASE_URL","API_KEY","fetchWithErrorHandling","url","config","key","fetch","response","ok","json","Promise","reject","Error","fetchMovieWithQuery","query","fetchActorsDetails","movieApp","fetchMovieTrends","fetchMovieDetails"],"sourceRoot":""}